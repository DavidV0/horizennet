<section class="contact-section">
  <div class="contact-content">
    <h2>Kontaktieren Sie uns</h2>
    <p class="subtitle">Haben Sie Fragen? Wir sind für Sie da!</p>

    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Vorname</mat-label>
          <input matInput formControlName="firstName" required>
          <mat-error *ngIf="contactForm.get('firstName')?.invalid">
            {{ getErrorMessage('firstName') }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Nachname</mat-label>
          <input matInput formControlName="lastName" required>
          <mat-error *ngIf="contactForm.get('lastName')?.invalid">
            {{ getErrorMessage('lastName') }}
          </mat-error>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline">
        <mat-label>E-Mail</mat-label>
        <input matInput type="email" formControlName="email" required>
        <mat-error *ngIf="contactForm.get('email')?.invalid">
          {{ getErrorMessage('email') }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Ihre Nachricht</mat-label>
        <textarea matInput rows="5" formControlName="message" required></textarea>
        <mat-error *ngIf="contactForm.get('message')?.invalid">
          {{ getErrorMessage('message') }}
        </mat-error>
      </mat-form-field>

      <div class="privacy-policy">
        <mat-checkbox formControlName="privacyPolicy" required>
          Ich stimme der Verarbeitung meiner Daten gemäß der Datenschutzerklärung zu
        </mat-checkbox>
        <mat-error *ngIf="contactForm.get('privacyPolicy')?.invalid && contactForm.get('privacyPolicy')?.touched">
          Bitte stimmen Sie der Datenschutzerklärung zu
        </mat-error>
      </div>

      <div class="form-actions">
        <button mat-raised-button color="primary" type="submit" 
                [disabled]="contactForm.invalid || isSubmitting"
                class="submit-button">
          <span *ngIf="!isSubmitting">Nachricht senden</span>
          <span *ngIf="isSubmitting">Wird gesendet...</span>
        </button>
      </div>

      <div class="alert success" *ngIf="submitSuccess">
        Ihre Nachricht wurde erfolgreich gesendet. Wir werden uns in Kürze bei Ihnen melden.
      </div>

      <div class="alert error" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>
    </form>
  </div>
</section> 