<div class="container mx-auto px-4 py-8">
  <ng-container *ngIf="course$ | async as course">
    <mat-accordion>
      <mat-expansion-panel *ngFor="let module of course.modules">
        <mat-expansion-panel-header>
          <mat-panel-title class="flex items-center">
            <span class="flex-grow">{{ module.title }}</span>
            <span class="text-sm text-gray-500 mr-4">
              {{ getModuleProgress(module.id) | async | number:'1.0-0' }}% abgeschlossen
            </span>
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="py-4">
          <p class="text-gray-600 mb-4">{{ module.description }}</p>
          
          <div class="space-y-4">
            <div *ngFor="let lesson of module.lessons" 
                 class="lesson-item flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer"
                 [routerLink]="['lessons', lesson.id]">
              <mat-icon class="mr-4 text-primary">school</mat-icon>
              <div class="flex-grow">
                <h3 class="font-medium">{{ lesson.title }}</h3>
                <p class="text-sm text-gray-500">{{ lesson.description }}</p>
              </div>
              <div class="ml-4">
                <span class="text-sm text-gray-500">{{ lesson.duration }} Min.</span>
              </div>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </ng-container>
</div> 